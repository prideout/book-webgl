\thispagestyle{empty}
\label{Proposal}
\LARGE

\noindent The WebGL Companion

%\noindent WebGL Techniques:
%\large
%\noindent Building 3D Applications for the Web
\small

\vspace{0.25in}
\noindent book proposal for Taylor \& Francis Group

\noindent \href{mailto:philiprideout@gmail.com}{philiprideout@gmail.com}
\normalsize

\section*{Summary}
\emph{The WebGL Companion} guides readers through an essential set of rendering techniques and 3D interaction techniques, showcasing a set of small-but-complete web apps at the end of each chapter, with diagrams and screenshots printed in full color.  This is not only the authoritative book on WebGL, it's also documentation for the upcoming \emph{giza} graphics library, developed over the course of the book.

\section*{About the Author}

Philip Rideout has worked in the field of real-time graphics for over ten years, having played roles at several pioneering graphics companies, including Intergraph, NVIDIA, and Pixar.  He is the sole author of \emph{iPhone 3D Programming} (O'Reilly Media), and a contributing author of \emph{GPU Pro 2} (A K Peters) and \emph{OpenGL Insights} (CRC Press).

\section*{Table of Contents}

\definecolor{mygreen}{rgb}{0.1,0.5,0.2}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{myblue}{rgb}{0.1,0.4,0.6}

In the following outline, some section headings are colored \textbf{\textcolor{mygreen}{green}}; these are tutorial-style \emph{recipes} that demonstrate the techniques discussed in the chapter.


For now, the page numbers are placeholders.  Each paragraph in \textbf{\textcolor{mygray}{gray}} provides a summary for the section.   These summaries will not appear in the final book.

\newcommand{\rrecipe}[1] {\section{\textcolor{mygreen}{#1} } }
\hypersetup{colorlinks,linkcolor=black}
\newcommand{\summary}[1]{\addtocontents{toc}{\setlength{\leftskip}{15pt} \noindent  \footnotesize\textcolor{mygray}{#1}\normalsize\protect\par}}

\let\cleardoublepage\clearpage

\tableofcontents

\chapter{Preliminaries}
\section{A Brief History of *GL}
\summary{Gives an account of WebGL's ancestry (OpenGL, OpenGL ES), motivation, and rapid growth.  Also briefly mentions impediments at the time of writing, such as security concerns and IE support.}
\section{Building Giza: Literate Programming}
\summary{Describes our coding conventions and the \texttt{giza} library that is developed over the course of the book.}
\section{The Assembly Line Metaphor}
\summary{High-level overview of the WebGL rendering pipeline.}
\section{The Canvas Element}
\summary{Explains the \texttt{width} and \texttt{height} attributes and how to handle high-dpi displays (e.g., Apple Retina).}
\section{Animation Timing}
\summary{How to periodically trigger draw events.}
\rrecipe{Recipe 1: Strobe Light}
\summary{The simplest possible WebGL application; animates a solid color with \texttt{clear}.}

\chapter{Vertex Shading and Transforms}
\section{Vector Algebra with JavaScript}
\summary{This sections walks through giza's implementation of vector and matrix classes.  Rotation, translation, and scale are given a very brief treatment.}
\section{Life of a Vertex}
\summary{Describes model, view, and projection transforms.}
\section{Shading Language Basics}
\summary{Explains uniforms, attributes, and varyings.  Walks through trivial \texttt{main} functions for vertex and fragment shaders.}
\section{Lines and Triangles}
\summary{Explains the various primitive types (e.g., \texttt{LINES}), \texttt{drawArrays}, and \texttt{drawElements}.}
\section{Typed Arrays, Vertex Attributes and VBOs}
\summary{Shows how heterogeneous data (e.g., colors and positions) can be interleaved and submitted to WebGL.}
\rrecipe{Recipe 2: Color Graph}
\summary{Animated wireframe graph of the sinc function; illustrates performance differences between JavaScript-side computation and shader-side computation.}

\chapter{Using Art Assets}
\section{Texture Coordinates}
\summary{Quick overview of texture coordinates and wrap modes.  For an example, shows how to apply a section of the Mona Lisa to a quad.}
\section{Texture Filtering}
\summary{Explanation of minification, magnification, and mipmapping; uses small pixel art to illustrate the effects of filtering.} % space invaders! % or, http://opengameart.org/content/japanese-buildings-isometric-strategy-game-mockup
\section{Procedural Art}
\summary{Shows how some assets can be generated on the fly, as opposed to downloaded.} % Generate the geometry with node.js?
\subsection{Parametric Surfaces}
\summary{Using JavaScript to generate basic shapes like spheres and donuts.} % Generate the geometry with node.js?
\subsection{Implicit Paths}
\summary{Using fragment shaders to fill the interior of a bounded 2D region.}
\section{Loading Mesh Data with XMLHttpRequest}
\summary{Implements Giza's download functionality; also mentions \texttt{webgl-loader}.}
\rrecipe{Recipe 3: Planet Mars}
\summary{Downloads and renders a sphere mesh and Mars texture; also demonstrates \\\texttt{WEBGL\_compressed\_texture\_s3tc.}} % Maybe even the two moons?

\chapter{Rendering and Lighting Solid Objects}
\section{Face Orientation}
\summary{Explains polygon winding, \texttt{CULL\_FACE} (used in the Planet Mars recipe) and \texttt{gl\_FrontFacing}.}
\section{Dealing with Depth}
\summary{Explains the depth buffer and how depth artifacts can arise.} % Perhaps drill a hole in the mars geometry as an example
\section{Surface Normals}
\summary{Extends the \emph{Parametric Surfaces} sample to compute surface normals.}
\section{Lambertian Reflection}
\summary{Illustrates a simple ambient-diffuse-specular lighting model.}
\rrecipe{Recipe 4: Cel Shading}
\summary{Applying standard lighting, then snapping the color gradient to a few colors for cartoon-style rendering.} % also possibly add a two-pass silhouette

\chapter{Framebuffer Effects, Part I}
\section{Alpha Blending}
\summary{Explains the different blend modes; also discusses back-to-front sorting and screen-door transparency with \texttt{discard}.}
\section{Framebuffer Objects}
\summary{How to create offscreen render targets.}
\section{Floating Point Textures}
\summary{Explains unclamped colors (\texttt{OES\_texture\_float}) and how they can be used for general-purpose computation.}
\section{Subsurface Scattering}
\summary{Rendering translucent marble with floating point textures.} % similar to my Fresnel glass demo
\section{Gaussian Blur}
\summary{Optimal filtering with minimal taps.}
\section{Stencil Buffer}
\summary{Brief overview of stencil and how it can be used for CSG and shadows -- also mentions \texttt{WEBGL\_depth\_texture}.} 
\rrecipe{Recipe 5: Mughal Window}
\summary{Illustrates stenciled fake reflection, a depth-based glass effect and a jaali screen backdrop with HDR bloom.}

\chapter{Framebuffer Effects, Part II}
\section{Distance Blur}
\summary{Depth of field via post-processing; also mentions a jitter-based technique.} % Real-time Depth-of-Field (ShaderX 5) -- there also seem to be some dx11 demos for this (ATIs ladybug)
\section{Ambient Occlusion}
\summary{Screen-space ambient occlusion.}
\section{Shadow Maps}
\summary{Old-school PCF shadow mapping.} % Uses PCF to soften edges
\section{Heat Shimmer}
\summary{Using the fragment shader to create a heat wave effect.}
\rrecipe{Recipe 6: Desert Scene}
\summary{Rotates the camera around a static desert scene that uses all the techniques discussed in this chapter.}

\chapter{Texture Tricks, Part I}
\section{Point Sprites}
\summary{Shows how to use point sprites and vary their size from the vertex shader.}
\section{Derivatives Extension}
\summary{Shows how fragment shaders can smooth the edges of procedural patterns using \texttt{OES\_standard\_derivatives.}}
\rrecipe{Recipe 7: Tube Sparks}
\summary{Flies the viewer through a tube with stripe patterns.  Point sprites are used to render spinning spark patterns inside the tube.} % Additive blending

\chapter{Texture Tricks, Part II}
\section{Reflection and Refraction with Cubemaps}
\summary{Classic, simple use of cubemaps.} % refraction too?
\section{Normal Mapping}
\summary{Bumps and dimples in tangent space.} % external references: procedural bumping
\section{Using the Webcam}
\summary{Capturing video in real time and using it as a WebGL texture.} % http://dev.opera.com/static/articles/2012/webgl-postprocessing/webgl-pp/texImage2D.html
\section{Anisotropic Filtering}
\summary{High-quality rendering of nearly edge-on geometry using \\\texttt{EXT\_texture\_filter\_anisotropic}.}
\rrecipe{Recipe 8: Movie Theater}
\summary{Displays a dimpled glass ball that refracts the webcam image.}

\chapter{Interaction Techniques, Part I}
\section{Trackball Rotation}
\summary{Classic mouse-driven rotation.} % With momentum and quats!
\section{Selection Buffer}
\summary{Render object IDs into a FBO.}
\section{Inverse Kinematics}
\summary{Shows how to animate an articulated skeleton. This is a high-level overview only, since giza's IK implementation is quite math-heavy.}
\section{Vertex Skinning}
\summary{Render soft joints by blending multiple vertex transformations.}
\rrecipe{Recipe 9: Dancing Manikin}
\summary{Allows users to interact with a stick figure by dragging its hands and feet.} % Also has a dance mode! % Rag doll physics!

\chapter{Interaction Techniques, Part II}
\section{View Cube}
\summary{Move the camera by clicking hotspots on a cube.}
\section{Manipulators}
\summary{Interactive handles for positioning objects.}
\section{\"{U}berlight}
\summary{Spotlight effects with superellipsoid shapes.}
\rrecipe{Recipe 10: Stage Dressing}
\summary{Allows users to translate, rotate, and resize objects in a scene.} % might include uberlight, projection textures, and mirrors

\chapter{Beyond Giza: Related Libraries}
\section{three.js}
\summary{At the time of this writing, this is the most popular 3D JavaScript library that leverages WebGL.  It provides a higher level of abstraction than giza, and provides support for non-WebGL rendering (e.g., canvas and SVG).}
\section{dat-gui}
\summary{Overlay interface for tweaking variables.}
\section{glMatrix}
\summary{Fast vector math from Brandon Jones.}
\section{danser.js}
\summary{Create music-based animation.}
\section{tween.js}
\summary{Robert Penner's animation equations.}

